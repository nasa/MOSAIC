

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Time-varying scheduling algorithm &mdash; MOSAIC schedulers 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Task allocation algorithm for robotic networks with periodic connectivity" href="Allocation.html" />
    <link rel="prev" title="1. Installation" href="Installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MOSAIC schedulers
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Installation.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Time-varying scheduling algorithm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#problem-description">2.1. Problem Description</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tasks-and-software-network">2.1.1. Tasks and Software Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#agents">2.1.2. Agents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contact-graph">2.1.3. Contact Graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="#schedule">2.1.4. Schedule</a></li>
<li class="toctree-l3"><a class="reference internal" href="#optimization-objectives">2.1.5. Optimization Objectives</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduling-problem">2.1.6. Scheduling Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes-on-problem-assumptions">2.1.7. Notes on Problem Assumptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ilp-formulation">2.2. ILP formulation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#modeling-extensions-modeling-network-interference">2.2.1. Modeling Extensions: Modeling Network Interference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#implementation">2.3. Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">2.4. References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Allocation.html">3. Task allocation algorithm for robotic networks with periodic connectivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">4. Usage Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">5. API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_documentation.html">6. Modules documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MOSAIC schedulers</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Time-varying scheduling algorithm</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Scheduling.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="time-varying-scheduling-algorithm">
<span id="time-varying"></span><h1><span class="section-number">2. </span>Time-varying scheduling algorithm<a class="headerlink" href="#time-varying-scheduling-algorithm" title="Permalink to this headline">¶</a></h1>
<p>We describe the communication-aware, data-driven computation task
scheduling problem for heterogeneous multi-robot systems.</p>
<p>A full description of the algorithm is available in <a class="reference external" href="#references">our paper</a>.</p>
<div class="section" id="problem-description">
<h2><span class="section-number">2.1. </span>Problem Description<a class="headerlink" href="#problem-description" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tasks-and-software-network">
<h3><span class="section-number">2.1.1. </span>Tasks and Software Network<a class="headerlink" href="#tasks-and-software-network" title="Permalink to this headline">¶</a></h3>
<p>We wish to schedule <span class="math notranslate nohighlight">\(M\in\mathbb{Z}^{+}\)</span> data-driven tasks, where
<span class="math notranslate nohighlight">\(\mathbb{Z}^{+}\)</span> denotes positive integers. The set of <span class="math notranslate nohighlight">\(M\)</span>
tasks is denoted <span class="math notranslate nohighlight">\(\mathbb{T}\)</span>. Computational tasks of interest can
include, e.g. localizing a robot, computing a motion plan for a robot,
classifying and labeling the content of an image
, or estimating the
spatial distribution of a phenomenon based on point measurements from
multiple assets.</p>
<p>Tasks may be <em>required</em> or <em>optional</em>. Required tasks, denoted as
<span class="math notranslate nohighlight">\({\mathbb{R}}\subseteq{\mathbb{T}}\)</span>, must be
included in the schedule. Optional tasks
<span class="math notranslate nohighlight">\(T\in {\mathbb{T}}\setminus {\mathbb{R}}\)</span>
are each assigned a <em>reward</em> score <span class="math notranslate nohighlight">\(r(T)\)</span>, which denotes the value
of including the task in a schedule.</p>
<p>The output of each task is a <em>data product</em>. Data products for task
<span class="math notranslate nohighlight">\(T\)</span> are denoted as <span class="math notranslate nohighlight">\(d({T})\)</span>. The size (in bits) of the data
products are known a-priori as <span class="math notranslate nohighlight">\(s\left({T}\right)\)</span> for task
<span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>Tasks are connected by dependency relations encoded in a <em>software
network</em> <span class="math notranslate nohighlight">\(SN\)</span>. Let <span class="math notranslate nohighlight">\(P_T\)</span> be a set of predecessor tasks for
<span class="math notranslate nohighlight">\(T\)</span>. If <span class="math notranslate nohighlight">\(\hat T \in P_T\)</span>, task <span class="math notranslate nohighlight">\(T\)</span> can only be
executed by a robot if the robot has data product
<span class="math notranslate nohighlight">\({d({\hat T})}\)</span>. If <span class="math notranslate nohighlight">\(\hat T\)</span> is scheduled to be
executed on the same robot as <span class="math notranslate nohighlight">\(T\)</span>,
<span class="math notranslate nohighlight">\({d({\hat T})}\)</span> is assumed to be available to <span class="math notranslate nohighlight">\(T\)</span>
as soon as the computation of <span class="math notranslate nohighlight">\(\hat T\)</span> is concluded. If
<span class="math notranslate nohighlight">\(\hat T\)</span> and <span class="math notranslate nohighlight">\(T\)</span> are scheduled on different robots,
<span class="math notranslate nohighlight">\({d({\hat T})}\)</span> must be transmitted from the robot
executing <span class="math notranslate nohighlight">\(\hat T\)</span> to the robot executing <span class="math notranslate nohighlight">\(T\)</span> before
execution of <span class="math notranslate nohighlight">\(T\)</span> can commence. An example of <span class="math notranslate nohighlight">\(SN\)</span> used in
our experiments is shown below.</p>
<img alt="Sample task network" src="_images/scenario_task_network.png" />
<p>The following two assumptions ensure that a solution to the scheduling
problem exists.</p>
<p><strong>Assumption: feasibility</strong> There exists a schedule where all
required tasks are scheduled.</p>
<p>The software network <span class="math notranslate nohighlight">\(SN\)</span> do not have cycles.</p>
</div>
<div class="section" id="agents">
<h3><span class="section-number">2.1.2. </span>Agents<a class="headerlink" href="#agents" title="Permalink to this headline">¶</a></h3>
<p>Agents in the network represent computing units. Let there be
<span class="math notranslate nohighlight">\(N\in\mathbb{Z}^{+}\)</span> agents in the network. The agents are denoted
by
<span class="math notranslate nohighlight">\({A_{1}},\thinspace {A_{2}},\thinspace\ldots,\thinspace {A_{N}}\)</span>.
Each agent has known on-board processing and storage capabilities.</p>
<p>The time and energy cost required to perform a task <span class="math notranslate nohighlight">\(T\)</span> on agent
<span class="math notranslate nohighlight">\(i\)</span> are assumed to be known and denoted respectively as
<span class="math notranslate nohighlight">\({\tau_{i}\left({T}\right)}\)</span> and
<span class="math notranslate nohighlight">\({C_{i}^e\left({T}\right)}\)</span>. Depending on the
application, time and energy cost can capture the worst-case, expected,
or bounded computation time and energy; they are all considered to be
deterministic.</p>
</div>
<div class="section" id="contact-graph">
<span id="sec-cg"></span><h3><span class="section-number">2.1.3. </span>Contact Graph<a class="headerlink" href="#contact-graph" title="Permalink to this headline">¶</a></h3>
<p>Agents can communicate according to a prescribed time-varying <em>contact
graph</em> <span class="math notranslate nohighlight">\(CG\)</span> which denotes the availability and bandwidth of
communication links between the robots.</p>
<p><span class="math notranslate nohighlight">\(CG\)</span> is a graph with time-varying edges. Nodes <span class="math notranslate nohighlight">\(\mathcal{V}\)</span>
in <span class="math notranslate nohighlight">\(CG\)</span> correspond to agents. For each time instant <span class="math notranslate nohighlight">\(k\)</span>,
directed edges <span class="math notranslate nohighlight">\(\mathcal{E}_{k}\)</span> model the availability of
communication links; that is, <span class="math notranslate nohighlight">\((i, j) \in \mathcal{E}_{k}\)</span> if node
<span class="math notranslate nohighlight">\(i\)</span> can communicate to node <span class="math notranslate nohighlight">\(j\)</span> at time <span class="math notranslate nohighlight">\(k\)</span>. Each edge
has a (time-varying) data rate ranging from <span class="math notranslate nohighlight">\(0\)</span> (not connected) to
<span class="math notranslate nohighlight">\(\infty\)</span> (communicating to self), denoted by
<span class="math notranslate nohighlight">\({r_{{i}{j}}({k})}\)</span> for the rate from <span class="math notranslate nohighlight">\(A_{i}\)</span> to
<span class="math notranslate nohighlight">\(A_{j}\)</span> at time <span class="math notranslate nohighlight">\(k\)</span>. An example timeline representation for
<span class="math notranslate nohighlight">\(3\)</span> agents with available bandwidths can be seen in the
figure below.</p>
<img alt="Contact graph for :math:`3` agents showing connectivity time windows and bandwidths available." src="_images/contact_graph.png" />
<p>A key feature of DTN-based networking is Contact Graph Routing (CGR).
CGR takes into account
predictable link schedules and bandwidth limits to automate data
delivery and optimize the use of network resources. Accordingly, by
incorporating DTN’s store-forward mechanism into the scheduling problem,
it is possible to use mobile agents as <em>robotic routers</em> to ferry data
packets between agents that are not directly connected.</p>
<p>Communicating the data product <span class="math notranslate nohighlight">\(d({T})\)</span> from <span class="math notranslate nohighlight">\(A_{i}\)</span> to
<span class="math notranslate nohighlight">\(A_{j}\)</span> at time <span class="math notranslate nohighlight">\(k\)</span> requires time</p>
<div class="math notranslate nohighlight">
\[{\tau_{ij}\left({T}\right)}: \arg\min_{\tau}= \int_{k}^{k+\tau} {r_{{i}{j}}({\hat k})} d \hat k = {s\left({T}\right)}.\]</div>
<p>The following two assumptions model availability of computational
resources and the time required to share data products between processes
on a single robot.</p>
<p><strong>Assumption: no task concurrency</strong> Agents can only perform a single task at any
given time, including transmitting or receiving data products.</p>
<p>Agents take <span class="math notranslate nohighlight">\(0\)</span> time to communicate the solution to themselves.</p>
</div>
<div class="section" id="schedule">
<h3><span class="section-number">2.1.4. </span>Schedule<a class="headerlink" href="#schedule" title="Permalink to this headline">¶</a></h3>
<p>A schedule is (a) a mapping of tasks to agents and start-times, denoted
as <span class="math notranslate nohighlight">\({\mathbb{S}}:T\rightarrow ({A_{i}}, k)\)</span>
where <span class="math notranslate nohighlight">\(i\in[1,\ldots,N]\)</span> and <span class="math notranslate nohighlight">\(k\geq0\)</span>, and (b) a list of
inter-agent communications
<span class="math notranslate nohighlight">\(({A_{i}}, {A_{j}}, {d({T})}, k)\)</span>
denoting the transmission of <span class="math notranslate nohighlight">\({d({T})}\)</span> from
<span class="math notranslate nohighlight">\({A_{i}}\)</span> to <span class="math notranslate nohighlight">\({A_{j}}\)</span> from time
<span class="math notranslate nohighlight">\(k\)</span> to time
<span class="math notranslate nohighlight">\(\bar k : \left(\int_{k}^{\bar k} {r_{{i}{j}}({\kappa})} d \kappa = {s\left({T}\right)}\right)\)</span>.</p>
</div>
<div class="section" id="optimization-objectives">
<h3><span class="section-number">2.1.5. </span>Optimization Objectives<a class="headerlink" href="#optimization-objectives" title="Permalink to this headline">¶</a></h3>
<p>We consider several optimization objectives (formalized in the following
section), including:</p>
<ul class="simple">
<li><p><em>Optional tasks</em>: maximize the sum of the rewards <span class="math notranslate nohighlight">\(r(T)\)</span> for
optional tasks <span class="math notranslate nohighlight">\(T\)</span> that are included in the schedule;</p></li>
<li><p><em>Makespan</em>: minimize the maximum completion time of all scheduled
tasks;</p></li>
<li><p><em>Energy cost</em>: minimize the sum of the energy costs
<span class="math notranslate nohighlight">\({C_{i}^e\left({T}\right)}\)</span> for tasks included in
the schedule;</p></li>
</ul>
</div>
<div class="section" id="scheduling-problem">
<span id="scheduling-problem-def"></span><h3><span class="section-number">2.1.6. </span>Scheduling Problem<a class="headerlink" href="#scheduling-problem" title="Permalink to this headline">¶</a></h3>
<p>We are now in a position to state the communication-aware, data-driven
computation task scheduling problem for heterogeneous multi-robot
systems.</p>
<p><strong>Communication-aware, data-driven computation task scheduling problem for heterogeneous multi-robot systems</strong> Given a set of tasks modeled as a software network
<span class="math notranslate nohighlight">\(SN\)</span>, a list of computational agents <span class="math notranslate nohighlight">\(A_{i}\)</span>,
<span class="math notranslate nohighlight">\(i\in[1\ldots N]\)</span>, a contact graph <span class="math notranslate nohighlight">\(CG\)</span>, and a maximum
schedule length <span class="math notranslate nohighlight">\(C^\star\)</span>, find a schedule that satisfies:</p>
<ol class="arabic simple">
<li><p>The maximum overall computation time is no more than <span class="math notranslate nohighlight">\(C^\star\)</span>;</p></li>
<li><p>All required tasks <span class="math notranslate nohighlight">\(T\in \mathbb{R}\)</span> are scheduled;</p></li>
<li><p>A task <span class="math notranslate nohighlight">\(T\)</span> is only scheduled on agent
<span class="math notranslate nohighlight">\({A_{i}}\)</span> at time <span class="math notranslate nohighlight">\(k\)</span> if the agent has
received all the data product <span class="math notranslate nohighlight">\({d({\hat T})}\)</span> for
predecessor tasks <span class="math notranslate nohighlight">\(\hat T \in P_T\)</span>;</p></li>
<li><p>Every agent performs at most one task (including transmitting and
receiving data products) at any time;</p></li>
<li><p>The selected optimization objective is maximized.</p></li>
</ol>
</div>
<div class="section" id="notes-on-problem-assumptions">
<h3><span class="section-number">2.1.7. </span>Notes on Problem Assumptions<a class="headerlink" href="#notes-on-problem-assumptions" title="Permalink to this headline">¶</a></h3>
<p>The assumption that a feasible schedule including all required tasks
exists is appropriate for multi-robot systems where each required task
“belongs” to a specific robot (i.e., the task is performed with inputs
collected by the robot, and the output of the task is to be consumed by
the same robot). Examples of such tasks include localization, mapping,
and path planning. In such a setting, it is reasonable to assume that
each robot should be able to perform all of its own required tasks with
no assistance from other computation nodes; on the other hand,
cooperation between robots can decrease the makespan, reduce energy use,
and enable the completion of optional tasks.</p>
<p>The contact graph is assumed to be known in advance. This assumption is
reasonable in many space applications, specifically in surface-to-orbit
communications, orbit-to-orbit communications, and surface-to-surface
communication in unobstructed environments, where the capacity of the
communication channel can be predicted to a high degree of accuracy. In
obstructed environments where communication models are highly uncertain
(e.g. subsurface voids such as caves, mines, tunnels) a conservative
estimate of the channel capacity could be used. Extending the scheduling
problem to explicitly capture uncertainty in the communication graph is
an interesting direction for future research.</p>
<p>Finally, the scheduling problem also assumes that the
communication graph is not part of the optimization process. The problem
of optimizing the contact graph by prescribing the agents’ motion is
beyond the scope of this paper; however, we remark that the tools in
this paper can be used as an optimization subroutine to numerically
assess the effect of proposed changes in the contact graph on the
performance of the multi-robot system.</p>
</div>
</div>
<div class="section" id="ilp-formulation">
<span id="sec-scheduler-ilp"></span><h2><span class="section-number">2.2. </span>ILP formulation<a class="headerlink" href="#ilp-formulation" title="Permalink to this headline">¶</a></h2>
<p>We formulate the <a class="reference internal" href="#scheduling-problem-def"><span class="std std-ref">Scheduling Problem</span></a> as an integer linear
program (ILP). We consider a discrete-time approximation of the problem
with a time horizon of <span class="math notranslate nohighlight">\({C^\star_d}\)</span> time steps, each
of duration <span class="math notranslate nohighlight">\(C^\star/{C^\star_d}\)</span>, corresponding to the
maximum schedule length <span class="math notranslate nohighlight">\(C^\star\)</span>. The optimization variables are:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(X\)</span>, a set of Boolean variables of size
<span class="math notranslate nohighlight">\(N\cdot M \cdot {C^\star_d}\)</span>. <span class="math notranslate nohighlight">\(X(i,T,k)\)</span> is
true if and only if agent <span class="math notranslate nohighlight">\(A_i\)</span> starts computing task <span class="math notranslate nohighlight">\(T\)</span>
at time <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(D\)</span>, a set of Boolean variables of size
<span class="math notranslate nohighlight">\(N \cdot M \cdot {C^\star_d}\)</span>. <span class="math notranslate nohighlight">\(D(i,T,k)\)</span>, is
true if and only if agent <span class="math notranslate nohighlight">\(A_i\)</span> has stored the data products
<span class="math notranslate nohighlight">\(d(T)\)</span> of task <span class="math notranslate nohighlight">\(T\)</span> at time <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
<li><p><span class="math notranslate nohighlight">\(C\)</span>, a set of Boolean variables of size
<span class="math notranslate nohighlight">\(N^2 \cdot M \cdot {C^\star_d}\)</span>. <span class="math notranslate nohighlight">\(C(i,j,T,k)\)</span>,
is true if and only if agent <span class="math notranslate nohighlight">\(A_i\)</span> communicates part or all of
data products <span class="math notranslate nohighlight">\({d({T})}\)</span> to agent <span class="math notranslate nohighlight">\(A_j\)</span> at
time <span class="math notranslate nohighlight">\(k\)</span>.</p></li>
</ul>
<p>The optimization objective <span class="math notranslate nohighlight">\(R\)</span> can be expressed as follows:</p>
<ul class="simple">
<li><p>Maximize the sum of the rewards for completed optional tasks:</p></li>
</ul>
<p>We are now in a position to formally state the ILP formulation of
the problem:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
&amp; \underset{X, D, C}{\text{maximize }} R \\
%
&amp; \text{subject to}\nonumber \\
%
&amp;  \sum_{i=1}^N   \sum_{k=1}^{{C^\star_d}-{\tau_{i}\left({T}\right)}} X(i,T,k)  = 1 \quad \forall T\in \mathbb{R} \label{eq:MILP:requiredtasks}\\
%
&amp;  \sum_{i=1}^N \sum_{k=1}^{{C^\star_d}-{\tau_{i}\left({T}\right)}} X(i,T,k)  \leq 1  \quad \forall T\in\mathbb{T}\setminus \mathbb{R} \label{eq:MILP:optionaltasks}\\
%
&amp;  X(i,T,k) \leq D(i,L,k) \label{eq:MILP:prereqs} \quad  \forall i\in[1,\ldots,N], T\in[1,\ldots,M], L\in P_T, k\in[1,\ldots,{C^\star_d}] \nonumber \\
%
&amp; \sum_{T=1}^M \left[ \sum_{j=1}^N\left( C(i,j,T,k) + C(j,i,T,k) \right) + \sum_{{\hat k= \max(1,k-{\tau_{i}\left({T}\right)})}}^kX(i,T,\hat k) \right] \leq 1 \nonumber \\
&amp; \quad \quad \forall i\in[1,\ldots,N], k\in[1,\ldots,{C^\star_d}] \label{eq:MILP:computation}\\
%
&amp; D(i,T,k+1)\!-\!D(i,T,k) \leq \sum_{\tau=1}^k\sum_{j=1}^N \frac{r_{ji}(k)}{{s\left({T}\right)}} C(j,i,T,k) + \sum_{\tau=1}^{{k-{\tau_{i}\left({T}\right)}}} X(i,T,k) \nonumber \\
&amp; \quad \quad \forall i\in[1,\ldots,N],  T\in[1,\ldots,M], k\in[1,\ldots,{C^\star_d}-1] \label{eq:MILP:learning}\\
%
&amp; C(i,j,T,k) \leq D(i,T,k) \quad  \forall  i,j \in[1,\ldots,N], T\in[1,\ldots,M], k\in[1,\ldots,T] \label{eq:MILP:knowledge}\\
%
&amp; D(i,T,1)=0 \quad \forall i \in[1,\ldots,N], T\in[1,\ldots,M] \label{eq:MILP:initialinfo}\end{aligned}\end{split}\]</div>
<p>The first constraint ensures
that all required tasks are performed, and the second constraint that
optional tasks are performed at most once.
The third constraint requires that agents only start
a task if they have access to the data products of all its predecessor
tasks.
The fourth constraint captures the agents’ limited computation resources
by enforcing the no-concurrency assumption.
The fifth constraint  ensures that agents
learn the content of a task’s data products only if they (i) receive
such information from other agents (possibly over multiple time steps,
each carrying a fraction
<span class="math notranslate nohighlight">\(r_{ij}(k)/{s\left({T}\right)}\)</span> of the data product) or
(ii) complete the task themselves.
The sixth constraint ensures that agent only
communicate a data product if they have stored the data product
themselves. Finally, the seventh and last constraint models the fact that
data products are initially unknown to all agents.</p>
<p>The ILP has <span class="math notranslate nohighlight">\(N^2M{C^\star_d}+2NM{C^\star_d}\)</span>
Boolean variables and
<span class="math notranslate nohighlight">\(M(N(3{C^\star_d}-1)+N )+N{C^\star_d}\)</span>
constraints; instances with dozens of agents and tasks and horizons of
50–100 time steps can be readily solved by state-of-the-art ILP solvers.</p>
<div class="section" id="modeling-extensions-modeling-network-interference">
<h3><span class="section-number">2.2.1. </span>Modeling Extensions: Modeling Network Interference<a class="headerlink" href="#modeling-extensions-modeling-network-interference" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="#sec-scheduler-ilp"><span class="std std-ref">ILP formulation</span></a> is amenable to several
modeling extensions. In this section, we show how the bandwidth
constraints can be modified to capture network interference caused by
the agents’ communications, a critical consideration for close-range
operations.</p>
<p>In the formulation, link bandwidths <span class="math notranslate nohighlight">\(r_{ij}\)</span> are assumed
to be fixed and independent of each other: that is, the communication
bandwidth <span class="math notranslate nohighlight">\(r_{ij}\)</span> on a link is assumed to be achievable
regardless of communication activity on other links. This assumption can
be inaccurate for systems where many robots operate in close proximity
and share the same wireless channel; in such a setting, interference
introduces a coupling between the achievable bandwidths on different
links, and the overall amount of data that can be exchanged by
interfering links is limited by the <em>channel capacity</em> of the shared
physical medium.</p>
<p>The formulation can be extended to capture a
first-order approximation of this effect, letting individual link bit
rates be decision variables subject to constraints on the overall
channel capacity.</p>
<p>Effectively, agents are allowed to use less than the full capacity of
individual links to ensure that their transmissions do not cause
interference on other links sharing the same wireless channel.</p>
<p>To this end, we define an additional set of real-valued decision
variables <span class="math notranslate nohighlight">\(R\)</span> of size
<span class="math notranslate nohighlight">\(N^2 \cdot M \cdot {C^\star_d}\)</span>. <span class="math notranslate nohighlight">\(R(i,j,T,k)\)</span>
denotes the amount of bits of the data product of task <span class="math notranslate nohighlight">\(T\)</span> that is
transmitted from agent <span class="math notranslate nohighlight">\(i\)</span> to agent <span class="math notranslate nohighlight">\(j\)</span> in time interval
<span class="math notranslate nohighlight">\(k\)</span>.</p>
<p>We assume that, for each discrete time interval <span class="math notranslate nohighlight">\(k\)</span> and for each
subset <span class="math notranslate nohighlight">\(I\in \mathbb{I}\subset 2^{N^2}\)</span> of links subject to mutual
interference, the interfering links’ channel capacity <span class="math notranslate nohighlight">\(r(I, k)\)</span>
(that is, the overall amount of bits that links in <span class="math notranslate nohighlight">\(I\)</span> can
simultaneously transmit) is known. In order to avoid introducing an
exponential number of constraints, it is desirable to consider a modest
number of sets of interfering links. For instance, if all robots are
operating in close proximity and can interfere with each other, the
overall bandwidth of <em>all</em> links should be constrained to be smaller
than the capacity of the shared channel.</p>
<p>The fifth constraint in the formulation above is replaced by the
following equations:</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{aligned}
&amp; R(i,j,T,k) \leq r_{i,j}(k) C(i,j,T,k) \quad \forall  i,j \in[1,\ldots,N], T\in[1,\ldots,M], k\in[1,\ldots,T] \label{eq:MILP:boolean_bandwidth} \\
%
&amp; D(i,T,k+1)\!-\!D(i,T,k) \quad \leq \sum_{\tau=1}^k\sum_{j=1}^N \frac{1}{{s\left({T}\right)}} R(j,i,T,k) + \sum_{\tau=1}^{{k-{\tau_{i}\left({T}\right)}}} X(i,T,k) \nonumber \\
&amp; \quad  \forall i\in[1,\ldots,N],  T\in[1,\ldots,M], k\in[1,\ldots,{C^\star_d}-1] \label{eq:MILP:learning_interference} \\
%
&amp; \sum_{i,j \in {i}} \sum_{T\in[1,\ldots,M]} R(j,i,T,k) \leq r(i,k) \quad \forall i\in I, k\in[1,\ldots,T] \label{eq:MILP:channel_capacity}\end{aligned}\end{split}\]</div>
<p>The first constraint ensures that the effective bit rate on a link is nonzero only if a
communication occurs on the link; The second constraint
models the process by which robots learn data products through
communication, closely following its counterpart in the previous formulation;
and the third constraint ensures that
the sum of all effective bit rates on interfering links does not exceed
the channel capacity.</p>
</div>
</div>
<div class="section" id="implementation">
<h2><span class="section-number">2.3. </span>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The function <a class="reference internal" href="class_documentation.html#mosaic_schedulers.schedulers.tv_milp.MOSAICSolver.JSONSolver" title="mosaic_schedulers.schedulers.tv_milp.MOSAICSolver.JSONSolver"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONSolver</span></code></a> provides
an easy interface to the task allocation solver.
For a full description of all available interfaces, see <a class="reference internal" href="class_documentation.html#tv-class-documentation"><span class="std std-ref">Time-varying scheduling algorithm: full implementation</span></a>.</p>
<dl class="py class">
<dt>
<em class="property">class </em><code class="sig-prename descclassname">mosaic_schedulers.schedulers.tv_milp.MOSAICSolver.</code><code class="sig-name descname">JSONSolver</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">JSONProblemDescription</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">solver</span><span class="o">=</span><span class="default_value">'CPLEX'</span></em>, <em class="sig-param"><span class="n">Verbose</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">TimeLimit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mosaic_schedulers/schedulers/tv_milp/MOSAICSolver.html#JSONSolver"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>The main interface to solve MOSAIC scheduling problems</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>JSONProblemDescription</strong> (<em>str</em><em>, </em><em>optional</em>) – a JSON description of the problem. See the <a class="reference internal" href="API.html"><span class="doc">API reference</span></a> for a detailed description. Defaults to ‘’</p></li>
<li><p><strong>solver</strong> (<em>str</em><em>, </em><em>optional</em>) – the solver to use. Should be ‘GLPK’, ‘CPLEX’, ‘PuLP’ or ‘SCIP’, defaults to ‘CPLEX’</p></li>
<li><p><strong>Verbose</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to print status and debug messages. Defaults to False</p></li>
<li><p><strong>TimeLimit</strong> (<em>float</em><em>, </em><em>optional</em>) – a time limit after which to stop the optimizer. Defaults to None (no time limit). Note that certain solvers (GLPK) 
may not honor the time limit.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if the JSONProblemDescription is not valid.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="references">
<h2><span class="section-number">2.4. </span>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<p>Joshua Vander Hook, Tiago Vaquero, Federico Rossi, Martina Troesch, Marc Sanchez Net, Joshua Schoolcraft, Jean-Pierre de la Croix, and Steve Chien, <a class="reference external" href="https://aaai.org/ojs/index.php/ICAPS/article/view/3556">“Mars On-Site Shared Analytics Information and Computing,”</a> in Proceedings of the Twenty-Ninth International Conference on Automated Planning and Scheduling, vol. 29, no. 1, pp. 707-715, July 2019.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Allocation.html" class="btn btn-neutral float-right" title="3. Task allocation algorithm for robotic networks with periodic connectivity" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Installation.html" class="btn btn-neutral float-left" title="1. Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, California Institute of Technology (&#34;Caltech&#34;)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>